{% extends "layout.html"%}

{% block content %}
<h3 class="rate-header">Rate This Movie!</h3>
<!-- checks if the movie has a video url attatched to it and will embed a video if there is-->
{% if video != "Empty"%}
<div class="iframe-container">
    <iframe src="https://www.youtube.com/embed/{{video}}?autoplay=1" width="560" height="315" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>
{%else%}
<div class="container rating-image"><img class="rateImage" src="static/images/{{request.args.get("fileName")}}" /></div>
{%endif%}

<br />
<form method="POST">
    <div class="form-css form-group" id="ratingform">
        <!-- jinja  if statement to display different variations of the form when there is a previous rating or not -->
        {%if toRate%}
        <div class="rating-container" style="margin-left:auto; margin-right:auto;">
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="rating" value="1" checked>
                <label class="form-check-label" for="inlineCheckbox1">1 Stars</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="rating" value="2">
                <label class="form-check-label" for="inlineCheckbox2">2 Stars</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="rating" value="3">
                <label class="form-check-label" for="inlineCheckbox3">3 Stars</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="rating" value="4">
                <label class="form-check-label" for="inlineCheckbox4">4 Stars</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="rating" value="5">
                <label class="form-check-label" for="inlineCheckbox5">5 Stars</label>
            </div>
        </div>
        <br />
        <label>Summary:</label>
        <input class="input-box" type="text" name="summary" placeholder="Input Summary Here!" /><br />
        <label>Youtube ID</label><input class="youtube-box" type="text" name="youtubeID" placeholder="dQw4w9WgXcQ" />
        <div class="ghost">
            <input type='checkbox' value="False" name="toRateAgain" checked />
        </div>

        {%else%}
        <!-- Displays the previous rating and has options to allow the user to change them if need be-->
        <p>
            This has been rated: {{rating}} Stars! <br />
            Summary:<br />{{summary}}

        </p>
        <!-- Hidden form inputs that the user cannot use because Key Errors would occur-->
        <div class="ghost">
            {{toRate}}
            <input class="form-check-input" type="radio" name="rating" value="{{rating}}" checked>
            <input type="text" name="summary" placeholder="{{summary}}" />
            <label>Youtube ID</label><input class="youtube-box" type="text" name="youtubeID" placeholder="dQw4w9WgXcQ" />
        </div>
        <label>Check this box to rate again</label>
        <input type="checkbox" value="True" name="toRateAgain" />
        {%endif%}
        <input type="submit" />
    </div>
</form>


{% endblock %}